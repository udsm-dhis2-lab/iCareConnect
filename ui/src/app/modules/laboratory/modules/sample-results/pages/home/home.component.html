<div
  *ngIf="{
    datesParameters: datesParameters$ | async,
    visitReferences: visitReferences$ | async,
    visitsLoadedState: visitsLoadedState$ | async,
    sampleTypesLoadedState: sampleTypesLoadedState$ | async,
    sampleTypes: sampleTypes$ | async,
    labSamplesDepartments: labSamplesDepartments$ | async,
    labSamplesContainers: labSamplesContainers$ | async,
    configs: configs$ | async,
    codedSampleRejectionReasons: codedSampleRejectionReasons$ | async,
    LISConfigurations: LISConfigurations$ | async,
    currentUser: currentUser$ | async,
    privileges: privileges$ | async,
    providerDetails: providerDetails$ | async
  } as params"
>
  <div
    *ngIf="
      params?.datesParameters &&
      params?.sampleTypesLoadedState &&
      params?.labSamplesDepartments?.length > 0 &&
      params?.configs &&
      params?.labSamplesContainers &&
      params?.codedSampleRejectionReasons &&
      params?.LISConfigurations
    "
  >
    <app-sample-results-dashboard
      [datesParameters]="params?.datesParameters"
      [patients]="params?.visitReferences"
      [labSamplesDepartments]="params?.labSamplesDepartments"
      [sampleTypes]="params?.sampleTypes"
      [labSamplesContainers]="params?.labSamplesContainers"
      [configs]="params?.configs"
      [LISConfigurations]="params?.LISConfigurations"
      [codedSampleRejectionReasons]="params?.codedSampleRejectionReasons"
      [currentUser]="params?.currentUser"
      [privileges]="params?.privileges"
      [providerDetails]="params?.providerDetails"
    ></app-sample-results-dashboard>
  </div>
  <mat-progress-bar
    *ngIf="
      !params?.datesParameters ||
      !params?.sampleTypesLoadedState ||
      params?.labSamplesDepartments?.length == 0 ||
      !params?.configs ||
      !params?.labSamplesContainers ||
      !params?.codedSampleRejectionReasons ||
      !params?.LISConfigurations
    "
    mode="indeterminate"
  ></mat-progress-bar>
</div>
