<div
  class="patient-home-container"
  *ngIf="{
    currentPatient: patient$ | async,
    loadingVisit: loadingVisit$ | async,
    currentLocation: currentLocation$ | async,
    vitalSignObservations: vitalSignObservations$ | async,
    provider: provider$ | async,
    activeVisit: activeVisit$ | async,
    bedsByLocationDetails: bedsUnderCurrentWard$ | async,
    patientBillingDetails: patientBillingDetails$ | async,
    formPrivilegesConfigs: formPrivilegesConfigs$ | async,
    userPrivileges: userPrivileges$ | async,
    currentUser: currentUser$ | async
  } as params"
>
  <div>
    <mat-progress-bar
      *ngIf="params?.loadingVisit"
      mode="indeterminate"
    ></mat-progress-bar>
    <div
      class="admission-container"
      *ngIf="
        params?.currentPatient &&
        !params?.loadingVisit &&
        params?.patientBillingDetails
      "
    >
      <app-new-patient-profile
        *ngIf="params?.currentPatient"
        [currentPatient]="params?.currentPatient"
      ></app-new-patient-profile>
      <div>
        <app-inpatient
          *ngIf="
            !params?.loadingVisit &&
            params?.currentLocation &&
            params?.bedsByLocationDetails &&
            params?.formPrivilegesConfigs
          "
          [activeVisit]="params?.activeVisit"
          [patientBillingDetails]="params?.patientBillingDetails"
          [bedsByLocationDetails]="params?.bedsByLocationDetails"
          [currentPatient]="params?.currentPatient"
          [provider]="params?.provider"
          [currentUser]="params?.currentUser"
          [userPrivileges]="params?.userPrivileges"
          [formPrivilegesConfigs]="params?.formPrivilegesConfigs"
        ></app-inpatient>

        <mat-progress-bar
          *ngIf="
            params?.loadingVisit ||
            !params?.currentLocation ||
            !params?.bedsByLocationDetails ||
            !params?.patientBillingDetails ||
            !params?.formPrivilegesConfigs
          "
          mode="indeterminate"
        ></mat-progress-bar>
      </div>
    </div>
  </div>
</div>
